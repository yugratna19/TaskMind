{% extends 'base.html' %}

{% block content %}
<h1 class="task-title">Task List</h1>

<!-- Display success messages -->
{% if messages %}
    <div class="alert alert-success">
        {% for message in messages %}
            <p>{{ message }}</p>
        {% endfor %}
    </div>
{% endif %}

<!-- Search Bar Form -->
<form method="GET" action="{% url 'task_list' %}" class="search-form">
    <input type="text" name="search" class="search-input" placeholder="Search tasks..." value="{{ request.GET.search }}">
    <button type="submit" class="btn search-btn">Search</button>
</form>

<!-- Task List -->
<div class="task-container">
    {% for task in tasks %}
        <div class="task-card">
            <a href="{% url 'task_details' task.id %}" class="task-link">
                <!-- Task Title with Gray Color inside Link -->
                <h3 class="task-title">{{ task.title }}</h3>
            </a>
            <p class="task-details">
                <span class="task-due">Due: {{ task.due_date }}</span> | 
                <span class="task-status">Status: {{ task.get_status_display }}</span>
            </p>
        </div>
    {% empty %}
        <div class="task-card no-tasks">
            <p>No tasks found.</p>
        </div>
    {% endfor %}
</div>
{% endblock %}
